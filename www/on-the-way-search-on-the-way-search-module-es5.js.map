{"version":3,"sources":["webpack:///src/app/on-the-way-search/on-the-way-search.module.ts","webpack:///src/app/on-the-way-search/on-the-way-search.page.ts","webpack:///src/app/on-the-way-search/on-the-way-search.page.html","webpack:///src/app/on-the-way-search/on-the-way-search-routing.module.ts","webpack:///src/app/on-the-way-search/on-the-way-search.page.scss"],"names":["OnTheWaySearchPageModule","imports","declarations","OnTheWaySearchPage","geolocation","nativeGeocoder","alertController","route","router","fetch","platform","location","zone","modal","storage","autocomplete","req_data","latitude","longitude","service","google","maps","places","AutocompleteService","model","waypoints","directionsService","DirectionsService","directionsRenderer","DirectionsRenderer","suppressMarkers","markers","infowindow","InfoWindow","backButton","subscribeWithPriority","back","sources","destination","start","end","user_id","JSON","parse","localStorage","getItem","id","snapshot","params","id2","self","options","enableHighAccuracy","getCurrentPosition","then","resp","LastLat","coords","LastLng","latLng","LatLng","mapOptions","center","zoom","mapTypeId","MapTypeId","ROADMAP","map","Map","mapElement","nativeElement","setMap","lang_code","res","getScope","item1","find","i","key_text","key_text1","item2","key_text2","item3","key_text3","item4","key_text4","item5","key_text5","console","log","geoCode","type","navigate","address","path","geocoder","Geocoder","geocode","results","status","address_components","forEach","val","types","city","long_name","state","country","postalCode","endCity","endState","endCountry","endPostalCode","startLat","geometry","lat","startLng","lng","startColonyName","formatted_address","showRoutes","endLat","endLng","endColonyName","data","stringify","get_volunteer_waypoints_by_condition","subscribe","waypts","waypointsData","push","stopover","name","username","mobile_no","setDirections","routes","length","origin","optimizeWaypoints","travelMode","TravelMode","DRIVING","response","startLocation","Object","endLocation","legs","start_location","end_location","createMarker","window","alert","latlng","label","html","url","contentString","marker","Marker","position","icon","title","zIndex","Math","round","event","addListener","setContent","open","msg","create","cssClass","message","buttons","text","role","handler","present","app_user_id","get_volunteer_waypoints_new","showAlert","selector","template","component","OnTheWaySearchPageRoutingModule","forChild","exports"],"mappings":"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","file":"on-the-way-search-on-the-way-search-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { OnTheWaySearchPageRoutingModule } from './on-the-way-search-routing.module';\n\nimport { OnTheWaySearchPage } from './on-the-way-search.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    OnTheWaySearchPageRoutingModule\n  ],\n  declarations: [OnTheWaySearchPage]\n})\nexport class OnTheWaySearchPageModule {}\n","import { Component, OnInit, ViewChild ,ElementRef,NgZone } from '@angular/core';\nimport { Geolocation,GeolocationOptions ,Geoposition ,PositionError } from '@ionic-native/geolocation/ngx';\nimport { NativeGeocoder, NativeGeocoderResult, NativeGeocoderOptions } from '@ionic-native/native-geocoder/ngx';\nimport { AlertController } from '@ionic/angular';\nimport { FetchService } from '../fetch.service';\nimport { StorageService } from '../storage.service';\nimport { Router, ActivatedRoute, ParamMap } from '@angular/router';\nimport { Platform,ModalController } from '@ionic/angular';\nimport { Location } from \"@angular/common\";\ndeclare var google: any;\ndeclare var $: any;\n\n@Component({\n  selector: 'app-on-the-way-search',\n  templateUrl: './on-the-way-search.page.html',\n  styleUrls: ['./on-the-way-search.page.scss'],\n})\nexport class OnTheWaySearchPage implements OnInit {\n  sources;\n  destination;\n  autocomplete:any={};\n  req_data : any = [];\n  latitude: number = 0;\n  longitude: number = 0;\n  geo: any;\n  service = new google.maps.places.AutocompleteService();\n  model:any={};\n  waypoints:any=[];\n  directionsService = new google.maps.DirectionsService();\n  directionsRenderer = new google.maps.DirectionsRenderer({\n    suppressMarkers: true\n  });\n  markers = [];\n infowindow = new google.maps.InfoWindow();\n  options : GeolocationOptions;\n  @ViewChild('map') mapElement: ElementRef;\n  map: any;\n  id2: any;\n  id: any;\n  constructor(\n    private geolocation: Geolocation,\n    private nativeGeocoder: NativeGeocoder,\n    public alertController: AlertController,\n    private route: ActivatedRoute,\n    private router: Router,\n    private fetch: FetchService,\n    private platform: Platform, \n    private location: Location,\n    private zone: NgZone,\n    public modal : ModalController,\n    private storage : StorageService,\n  ) { \n    this.platform.backButton.subscribeWithPriority(10, () => {\n      this.location.back();\n     \n    });\n    this.sources = [];\n    this.destination = [];\n    this.autocomplete = {\n      start: '',\n      end : ''\n    };\n  }\n\n  ngOnInit() {\n    this.model.user_id = JSON.parse(localStorage.getItem('user_registerd'));\n  }\n  ionViewWillEnter(){\n    var start = localStorage.getItem('temp_start_address');\n    var end = localStorage.getItem('temp_end_address');\n    this.id = this.route.snapshot.params['id'];\n    this.id2 = this.route.snapshot.params['id2'];\n    if(start){\n      this.autocomplete.start = start;\n    }if(end){\n      this.autocomplete.end = end;\n    }\n    var self = this;\n    self.options = {\n      enableHighAccuracy: false,\n      };\n      \n    self.geolocation.getCurrentPosition(self.options).then((resp) => {\n    \n      self.model.LastLat = resp.coords.latitude;\n      self.model.LastLng = resp.coords.longitude;\n   \n      let latLng = new google.maps.LatLng(self.model.LastLat, self.model.LastLng);\n      let mapOptions = {\n        center: latLng,\n        zoom: 15,\n        mapTypeId: google.maps.MapTypeId.ROADMAP\n      }\n\n      self.map = new google.maps.Map(self.mapElement.nativeElement, mapOptions);\n      self.directionsRenderer.setMap(self.map);\n     \n      \n    }); \n  }\n  \n  ionViewDidEnter(){\n    var lang_code = JSON.parse(localStorage.getItem('lang'));\n    //this.fetch.getKeyText(lang_code).subscribe(res => {\n      let res = this.storage.getScope();\n      let item1 = res.find(i => i.key_text === 'CONFIRM');\n\t\t\tthis.model.key_text1 = item1[lang_code];\n      let item2 = res.find(i => i.key_text === 'NO_VOLUNTEER_FOUND');\n\t\t\tthis.model.key_text2 = item2[lang_code];\n      let item3 = res.find(i => i.key_text === 'CLOSE');\n\t\t\tthis.model.key_text3 = item3[lang_code];\n      let item4 = res.find(i => i.key_text === 'CHOOSE_STARTING_POINT');\n      this.model.key_text4 = item4[lang_code]; \n      let item5 = res.find(i => i.key_text === 'CHOOSE_DESTINATION');\n      this.model.key_text5 = item5[lang_code]; \n\t\t\n  }\n  dismissSource() {\n    this.sources = [];\n  }\n  dismissDestination() {\n    this.destination = [];\n  }\n\n  updateSources() {\n    console.log('in');\n    if(this.autocomplete.start!=''){\n      this.geoCode(this.autocomplete.start,'start');\n    }\n    \n  }\n  updateDestinations() {\n    if(this.autocomplete.end!=''){\n      this.geoCode(this.autocomplete.end,'end');\n    }\n  }\n\n  goToAddressSelection(type){\n    this.router.navigate(['/on-the-way-address',type])\n  }\n //convert Address string to lat and long\n geoCode(address:any,path) {\n  \n  let geocoder = new google.maps.Geocoder();\n  \n  geocoder.geocode({ 'address': address }, (results, status) => {\n   var address_components = results[0].address_components;\n   var self = this;\n   if(path == 'start'){\n    address_components.forEach(function(val,i){\n      console.log('-',val)\n      if (val.types[0] == \"locality\"){\n          \n          self.model.city = val.long_name;\n      } \n      if (val.types[0] == \"administrative_area_level_1\"){\n\t\t\t\t\n\t\t\t\tself.model.state = val.long_name;\n\t\t\t} \n\t\t\tif (val.types[0] == \"country\"){\n\t\t\t\t\n\t\t\t\tself.model.country = val.long_name;\n\t\t\t}\n\t\t\tif (val.types[0] == \"postal_code\"){\n\t\t\t\t\n\t\t\t\tself.model.postalCode = val.long_name;\n\t\t\t}\n\n    });\n  }if(path ==  'end'){\n    address_components.forEach(function(val,i){\n      console.log('-',val)\n      if (val.types[0] == \"locality\"){\n          \n          self.model.endCity = val.long_name;\n      } \n      if (val.types[0] == \"administrative_area_level_1\"){\n\t\t\t\t\n\t\t\t\tself.model.endState = val.long_name;\n\t\t\t} \n\t\t\tif (val.types[0] == \"country\"){\n\t\t\t\t\n\t\t\t\tself.model.endCountry = val.long_name;\n\t\t\t}\n\t\t\tif (val.types[0] == \"postal_code\"){\n\t\t\t\t\n\t\t\t\tself.model.endPostalCode = val.long_name;\n\t\t\t}\n\n    });\n  }\n    if(path == 'start'){\n      this.model.startLat = results[0].geometry.location.lat();\n      this.model.startLng = results[0].geometry.location.lng();\n      this.model.startColonyName = results[0].formatted_address;\n      this.showRoutes();\n    }\n    if(path ==  'end'){\n      this.model.endLat = results[0].geometry.location.lat();\n      this.model.endLng = results[0].geometry.location.lng();\n      this.model.endColonyName = results[0].formatted_address;\n      this.showRoutes();\n    }\n  // alert(\"lat: \" + this.latitude + \", long: \" + this.longitude);\n });\n \n}\nshowRoutes(){\n  \n  if(this.autocomplete.start != '' && this.autocomplete.end != ''){\n   let data = JSON.stringify({startLat:this.model.startLat,startLng:this.model.startLng,endLat:this.model.endLat,endLng:this.model.endLng,city:this.model.city,endCity:this.model.endCity,user_id : this.model.user_id});\n   this.fetch.get_volunteer_waypoints_by_condition(data).subscribe(res => {\n     //console.log(res);\n      let waypts = [];\n      let waypointsData = [];\n      res.data.forEach((val,i)=>{\n        waypts.push({\n          location: new google.maps.LatLng(val.latitude,val.longitude),\n          stopover: true\n        });\n        waypointsData.push({\n          location: new google.maps.LatLng(val.latitude,val.longitude),\n          name : val.username,\n          mobile_no : val.mobile_no\n        });\n      });\n      this.req_data = res.data;\n      this.directionsRenderer.setMap(null);\n      this.directionsRenderer.setDirections({routes: []});\n      for (var i = 0; i < this.markers.length; i++ ) {\n        this.markers[i].setMap(null);\n      }\n      \n      this.directionsService.route(\n        {\n          origin: this.autocomplete.start ,\n          destination: this.autocomplete.end,\n          waypoints: waypts,\n          optimizeWaypoints: true,\n          travelMode: google.maps.TravelMode.DRIVING,\n        },\n        (response, status) => {\n          if (status === \"OK\") {\n           \n            this.directionsRenderer.setDirections(response);\n            this.directionsRenderer.setMap(this.map);\n            var startLocation = new Object();\n            var endLocation = new Object();\n            // var waypointLocations = [];\n            var legs = response.routes[0].legs;\n            console.log(legs);\n            for (var i = 0; i < legs.length; i++) {\n              if (i == 0) {\n                startLocation = legs[i].start_location;\n               \n              }\n              if (i == legs.length - 1) {\n                endLocation = legs[i].end_location;\n                \n              }\n              \n            }\n            //console.log(waypointLocations);\n            this.waypoints = waypointsData\n            this.createMarker(endLocation, \"end\", \"special text for end marker\", 0,\"http://www.google.com/mapfiles/markerB.png\")\n           this.createMarker(startLocation, \"start\", \"special text for start marker\",0, \"http://maps.gstatic.com/mapfiles/markers2/marker_greenA.png\");\n            for (var i = 0; i < waypointsData.length; i++) {\n              this.createMarker(waypointsData[i].location, waypointsData[i].name, '', waypointsData[i].mobile_no, \"\");\n            }\n          \n          } else {\n            window.alert(\"Directions request failed due to \" + status);\n          }\n        }\n      );\n  });\n  \n   \n        \n  }  \n}\ncreateMarker(latlng, label, html, mobile_no, url) {\n  if(mobile_no != 0){\n    var contentString = '<b>' + label + '</b><br>' + html;\n  }else{\n    var contentString = '<b>' + label + '</b><br>' + html;\n  }\n  \n  var marker = new google.maps.Marker({\n    position: latlng,\n    map: this.map,\n    icon: {url : url },\n    title: label,\n    zIndex: Math.round(latlng.lat() * -100000) << 5\n  });\n  this.markers.push(marker);\n  google.maps.event.addListener(marker, 'click', ()=> {\n    this.infowindow.setContent(contentString);\n    this.infowindow.open(this.map, marker);\n  });\n\n  \n}\nasync showAlert(msg){\n  const alert = await this.alertController.create({\n    cssClass: 'my-custom-class custom_alert_1',\n    message: msg,\n    buttons: [\n      {\n        text: this.model.key_text3,\n        role: 'cancel',\n        cssClass: 'secondary',\n        handler: () => {\n         //this.router.navigate(['/home']);\n        }\n      }\n    ]\n  });\n\n  await alert.present();\n}\nconfirm(){\n  if(this.autocomplete.start != '' && this.autocomplete.end != ''){\n    let data = JSON.stringify({startLat:this.model.startLat,startLng:this.model.startLng,endLat:this.model.endLat,endLng:this.model.endLng,endCity:this.model.endCity,'colony_name' : this.model.startColonyName,city:this.model.city,'house_no': null, 'landmark' : null, 'adress_type' : null, 'state' : this.model.state, 'country' : this.model.country, 'postalCode' : this.model.postalCode,app_user_id : this.model.user_id,'id':this.id,'id2':this.id2});\n    this.fetch.get_volunteer_waypoints_new(data).subscribe(res => {\n      if(res['success'] == true){ \n        if(res['data'].length > 0){\n          this.router.navigate(['/searching-volunteer',this.id,this.id2]);\n        }else{\n          this.showAlert(this.model.key_text2);\n          this.router.navigate(['/screen-after-volunteer-not-found',this.id,this.id2]);\n        }\n      }\n   })\n  }\n}\n}\n","export default \"<ion-header>\\n  <div class=\\\"regular size_18 white center\\\">\\n    <ion-buttons class=\\\"back_button_menu_bar\\\" slot=\\\"end\\\">\\n      <ion-back-button defaultHref=\\\"home\\\"></ion-back-button>\\n    </ion-buttons>\\n  </div>\\n    <ion-searchbar [(ngModel)]=\\\"autocomplete.start\\\" placeholder=\\\"{{model.key_text4}}\\\" [showCancelButton]=\\\"true\\\"   (ionChange)=\\\"updateSources()\\\" (ionCancel)=\\\"dismissSource()\\\" (click)=\\\"goToAddressSelection(1)\\\"></ion-searchbar>\\n    \\n    <ion-searchbar [(ngModel)]=\\\"autocomplete.end\\\" placeholder=\\\"{{model.key_text5}}\\\" [showCancelButton]=\\\"true\\\"   (ionChange)=\\\"updateDestinations()\\\" (ionCancel)=\\\"dismissDestination()\\\" (click)=\\\"goToAddressSelection(2)\\\"></ion-searchbar>\\n    <div style=\\\"margin-left: 20px;\\\">\\n      <div class=\\\"map-icon\\\">\\n        <ion-icon name=\\\"warning-outline\\\" style=\\\"font-size: 14px; margin-top: 10px;\\\"></ion-icon>\\n      </div>\\n      <div class=\\\"map_desc\\\">      \\n        <div class=\\\"regular size_12\\\">\\n          Wearning a mask in some public spaces is required due to COVID - 19\\n        </div> \\n      </div>\\n    </div> \\n</ion-header>\\n<ion-content class=\\\"current_location_page_show\\\">\\n  <div #map id=\\\"map\\\"></div>\\n  </ion-content>\\n  <ion-footer class=\\\"current_location_page_show\\\">\\n    <ion-toolbar>    \\n\\t\\t<div class=\\\"app_button\\\" *ngIf=\\\"model.startLat && model.startLng && model.endLat && model.endLng\\\">\\n\\t\\t\\t<span (click)=\\\"confirm()\\\">\\n\\t\\t\\t\\t<button class=\\\"app_btn\\\">{{model.key_text1}}</button>\\n\\t\\t\\t</span>\\n\\t\\t\\t<!--  <button class=\\\"app_btn\\\" (click)=\\\"confirm_location()\\\">Confirm Location</button> -->\\n\\t\\t</div>\\n    </ion-toolbar>\\n</ion-footer>\\n  \\n  \";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { OnTheWaySearchPage } from './on-the-way-search.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: OnTheWaySearchPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class OnTheWaySearchPageRoutingModule {}\n","export default \"#map {\\n  width: 100%;\\n  height: 100%;\\n}\\n\\nion-header {\\n  padding-top: 32px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL29uLXRoZS13YXktc2VhcmNoLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLFdBQUE7RUFDQSxZQUFBO0FBQ0o7O0FBQ0E7RUFDSSxpQkFBQTtBQUVKIiwiZmlsZSI6Im9uLXRoZS13YXktc2VhcmNoLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIiNtYXAge1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGhlaWdodDogMTAwJTtcbn1cbmlvbi1oZWFkZXJ7XG4gICAgcGFkZGluZy10b3A6IDMycHg7XG59Il19 */\";"]}