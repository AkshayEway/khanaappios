{"version":3,"sources":["webpack:///src/app/on-the-way-address/on-the-way-address.page.html","webpack:///src/app/on-the-way-address/on-the-way-address.page.scss","webpack:///src/app/on-the-way-address/on-the-way-address.module.ts","webpack:///src/app/on-the-way-address/on-the-way-address.page.ts","webpack:///src/app/on-the-way-address/on-the-way-address-routing.module.ts"],"names":["OnTheWayAddressPageModule","imports","declarations","OnTheWayAddressPage","geolocation","nativeGeocoder","alertController","http","fetch","platform","location","zone","storage","router","route","autocomplete","req_data","latitude","longitude","service","google","maps","places","AutocompleteService","model","waypoints","directionsService","DirectionsService","directionsRenderer","DirectionsRenderer","suppressMarkers","geoencoderOptions","useLocale","maxResults","markers","infowindow","InfoWindow","backButton","subscribeWithPriority","back","sources","destination","start","end","type","snapshot","params","lang_code","JSON","parse","localStorage","getItem","user_id","get_user_locations","subscribe","res","saved_address","console","log","getScope","item1","find","i","key_text","key_text1","item2","key_text2","item3","key_text3","self","options","enableHighAccuracy","getCurrentPosition","then","resp","LastLat","coords","LastLng","getGeoencoder","latLng","LatLng","mapOptions","center","zoom","mapTypeId","MapTypeId","ROADMAP","reverseGeocode","result","curr_address","generateAddress","error","addressObj","obj","address","key","push","reverse","val","length","slice","item","setItem","geo","add","lat","lng","defaultBounds","north","south","east","west","bounds","componentRestrictions","country","strictBounds","types","input","document","getElementById","Autocomplete","addListener","start_address","getPlace","formatted_address","end_address","selector","template","routes","path","component","OnTheWayAddressPageRoutingModule","forChild","exports"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCmBFA,yBAAyB;AAAA;AAAA,O;;AAAzBA,+BAAyB,6DATrC,+DAAS;AACRC,eAAO,EAAE,CACP,4DADO,EAEP,0DAFO,EAGP,0DAHO,EAIP,mGAJO,CADD;AAORC,oBAAY,EAAE,CAAC,4EAAD;AAPN,OAAT,CASqC,GAAzBF,yBAAyB,CAAzB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCFAG,mBAAmB;AAyB9B,qCACUC,WADV,EAEUC,cAFV,EAGSC,eAHT,EAIUC,IAJV,EAKUC,KALV,EAMUC,QANV,EAOUC,QAPV,EAQUC,IARV,EASUC,OATV,EAUSC,MAVT,EAWSC,KAXT,EAW+B;AAAA;;AAAA;;AAVrB,eAAAV,WAAA,GAAAA,WAAA;AACA,eAAAC,cAAA,GAAAA,cAAA;AACD,eAAAC,eAAA,GAAAA,eAAA;AACC,eAAAC,IAAA,GAAAA,IAAA;AACA,eAAAC,KAAA,GAAAA,KAAA;AACA,eAAAC,QAAA,GAAAA,QAAA;AACA,eAAAC,QAAA,GAAAA,QAAA;AACA,eAAAC,IAAA,GAAAA,IAAA;AACA,eAAAC,OAAA,GAAAA,OAAA;AACD,eAAAC,MAAA,GAAAA,MAAA;AACA,eAAAC,KAAA,GAAAA,KAAA;AAhCT,eAAAC,YAAA,GAAiB,EAAjB;AACA,eAAAC,QAAA,GAAiB,EAAjB;AACA,eAAAC,QAAA,GAAmB,CAAnB;AACA,eAAAC,SAAA,GAAoB,CAApB;AAEA,eAAAC,OAAA,GAAU,IAAIC,MAAM,CAACC,IAAP,CAAYC,MAAZ,CAAmBC,mBAAvB,EAAV;AACA,eAAAC,KAAA,GAAU,EAAV;AACA,eAAAC,SAAA,GAAc,EAAd;AACA,eAAAC,iBAAA,GAAoB,IAAIN,MAAM,CAACC,IAAP,CAAYM,iBAAhB,EAApB;AACA,eAAAC,kBAAA,GAAqB,IAAIR,MAAM,CAACC,IAAP,CAAYQ,kBAAhB,CAAmC;AACtDC,2BAAe,EAAE;AADqC,WAAnC,CAArB;AAGA,eAAAC,iBAAA,GAA2C;AACzCC,qBAAS,EAAE,IAD8B;AAEzCC,sBAAU,EAAE;AAF6B,WAA3C;AAIA,eAAAC,OAAA,GAAU,EAAV;AACD,eAAAC,UAAA,GAAa,IAAIf,MAAM,CAACC,IAAP,CAAYe,UAAhB,EAAb;AAiBG,eAAK3B,QAAL,CAAc4B,UAAd,CAAyBC,qBAAzB,CAA+C,EAA/C,EAAmD,YAAM;AACvD,iBAAI,CAAC5B,QAAL,CAAc6B,IAAd;AAED,WAHD;AAIA,eAAKC,OAAL,GAAe,EAAf;AACA,eAAKC,WAAL,GAAmB,EAAnB;AACA,eAAK1B,YAAL,GAAoB;AAClB2B,iBAAK,EAAE,EADW;AAElBC,eAAG,EAAG;AAFY,WAApB;AAIA;;AAhD4B;AAAA;AAAA,qCAkDnB;AACX,iBAAKC,IAAL,GAAY,KAAK9B,KAAL,CAAW+B,QAAX,CAAoBC,MAApB,CAA2B,IAA3B,CAAZ;AACC;AApD6B;AAAA;AAAA,6CAqDf;AAAA;;AAEf,gBAAIC,SAAS,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAhB;AACA,iBAAK3B,KAAL,CAAW4B,OAAX,GAAqBJ,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,SAArB,CAAX,CAArB;AACD,iBAAK3C,KAAL,CAAW6C,kBAAX,CAA8B,KAAK7B,KAAL,CAAW4B,OAAzC,EAAkDE,SAAlD,CAA4D,UAAAC,GAAG,EAAI;AAClE,kBAAGA,GAAG,CAAC,SAAD,CAAH,IAAkB,IAArB,EAA0B;AACxB,sBAAI,CAACC,aAAL,GAAqBD,GAAG,CAAC,MAAD,CAAxB;AACAE,uBAAO,CAACC,GAAR,CAAY,MAAI,CAACF,aAAjB,EAFwB,CAIxB;AACD;AACD,aAPD,EAJgB,CAYf;;AACE,gBAAID,GAAG,GAAG,KAAK3C,OAAL,CAAa+C,QAAb,EAAV;AACA,gBAAIC,KAAK,GAAGL,GAAG,CAACM,IAAJ,CAAS,UAAAC,CAAC;AAAA,qBAAIA,CAAC,CAACC,QAAF,KAAe,eAAnB;AAAA,aAAV,CAAZ;AACA,iBAAKvC,KAAL,CAAWwC,SAAX,GAAuBJ,KAAK,CAACb,SAAD,CAA5B;AACA,gBAAIkB,KAAK,GAAGV,GAAG,CAACM,IAAJ,CAAS,UAAAC,CAAC;AAAA,qBAAIA,CAAC,CAACC,QAAF,KAAe,uBAAnB;AAAA,aAAV,CAAZ;AACA,iBAAKvC,KAAL,CAAW0C,SAAX,GAAuBD,KAAK,CAAClB,SAAD,CAA5B;AACA,gBAAIoB,KAAK,GAAGZ,GAAG,CAACM,IAAJ,CAAS,UAAAC,CAAC;AAAA,qBAAIA,CAAC,CAACC,QAAF,KAAe,oBAAnB;AAAA,aAAV,CAAZ;AACA,iBAAKvC,KAAL,CAAW4C,SAAX,GAAuBD,KAAK,CAACpB,SAAD,CAA5B;AAEF,iBAAKH,IAAL,GAAY,KAAK9B,KAAL,CAAW+B,QAAX,CAAoBC,MAApB,CAA2B,IAA3B,CAAZ;AACA,gBAAIuB,IAAI,GAAG,IAAX;AACEA,gBAAI,CAACC,OAAL,GAAe;AACbC,gCAAkB,EAAE;AADP,aAAf;AAIAF,gBAAI,CAACjE,WAAL,CAAiBoE,kBAAjB,CAAoCH,IAAI,CAACC,OAAzC,EAAkDG,IAAlD,CAAuD,UAACC,IAAD,EAAU;AAE/DL,kBAAI,CAAC7C,KAAL,CAAWmD,OAAX,GAAqBD,IAAI,CAACE,MAAL,CAAY3D,QAAjC;AACAoD,kBAAI,CAAC7C,KAAL,CAAWqD,OAAX,GAAqBH,IAAI,CAACE,MAAL,CAAY1D,SAAjC;;AACA,oBAAI,CAAC4D,aAAL,CAAmBJ,IAAI,CAACE,MAAL,CAAY3D,QAA/B,EAAyCyD,IAAI,CAACE,MAAL,CAAY1D,SAArD;;AAEA,kBAAI6D,MAAM,GAAG,IAAI3D,MAAM,CAACC,IAAP,CAAY2D,MAAhB,CAAuBX,IAAI,CAAC7C,KAAL,CAAWmD,OAAlC,EAA2CN,IAAI,CAAC7C,KAAL,CAAWqD,OAAtD,CAAb;AACA,kBAAII,UAAU,GAAG;AACfC,sBAAM,EAAEH,MADO;AAEfI,oBAAI,EAAE,EAFS;AAGfC,yBAAS,EAAEhE,MAAM,CAACC,IAAP,CAAYgE,SAAZ,CAAsBC;AAHlB,eAAjB;AAOD,aAdD;AAgBD,WAhG6B,CAiG9B;;AAjG8B;AAAA;AAAA,wCAkGhBrE,QAlGgB,EAkGNC,SAlGM,EAkGK;AAAA;;AACjC,iBAAKb,cAAL,CAAoBkF,cAApB,CAAmCtE,QAAnC,EAA6CC,SAA7C,EAAwD,KAAKa,iBAA7D,EACG0C,IADH,CACQ,UAACe,MAAD,EAAoC;AACxC,oBAAI,CAACC,YAAL,GAAoB,MAAI,CAACC,eAAL,CAAqBF,MAAM,CAAC,CAAD,CAA3B,CAApB;AACA/B,qBAAO,CAACC,GAAR,CAAY,eAAZ,EAA4B,MAAI,CAAC+B,YAAjC;AACD,aAJH,WAKS,UAACE,KAAD,EAAgB,CACtB;AACA,aAPH;AAQD,WA3G6B,CA6G9B;;AA7G8B;AAAA;AAAA,0CA8GdC,UA9Gc,EA8GF;AAC1B,gBAAIC,GAAG,GAAG,EAAV;AACA,gBAAIC,OAAO,GAAG,EAAd;;AACA,iBAAK,IAAIC,GAAT,IAAgBH,UAAhB,EAA4B;AAC1BC,iBAAG,CAACG,IAAJ,CAASJ,UAAU,CAACG,GAAD,CAAnB;AACD;;AACDF,eAAG,CAACI,OAAJ;;AACA,iBAAK,IAAIC,GAAT,IAAgBL,GAAhB,EAAqB;AACnB,kBAAIA,GAAG,CAACK,GAAD,CAAH,CAASC,MAAb,EACEL,OAAO,IAAID,GAAG,CAACK,GAAD,CAAH,GAAW,IAAtB;AACH;;AACD,mBAAOJ,OAAO,CAACM,KAAR,CAAc,CAAd,EAAiB,CAAC,CAAlB,CAAP;AACD;AA1H6B;AAAA;AAAA,0CA2Hd;AACd,iBAAK5D,OAAL,GAAe,EAAf;AACD;AA7H6B;AAAA;AAAA,+CA8HT;AACnB,iBAAKC,WAAL,GAAmB,EAAnB;AACD;AAhI6B;AAAA;AAAA,uCAiIjB4D,IAjIiB,EAiIN;AACtB,iBAAK7D,OAAL,GAAe,EAAf;AACA,iBAAKzB,YAAL,CAAkB2B,KAAlB,GAA0B2D,IAA1B;AACAnD,wBAAY,CAACoD,OAAb,CAAqB,oBAArB,EAA0C,KAAKvF,YAAL,CAAkB2B,KAA5D;AACA,iBAAKhC,QAAL,CAAc6B,IAAd;AACA,iBAAKgE,GAAL,GAAWF,IAAX,CALsB,CAMtB;AACD;AAxI6B;AAAA;AAAA,4CAyIZA,IAzIY,EAyID;AAC3B,iBAAK5D,WAAL,GAAmB,EAAnB;AACA,iBAAK1B,YAAL,CAAkB4B,GAAlB,GAAwB0D,IAAxB;AACAnD,wBAAY,CAACoD,OAAb,CAAqB,kBAArB,EAAwC,KAAKvF,YAAL,CAAkB4B,GAA1D;AACA,iBAAKjC,QAAL,CAAc6B,IAAd;AACA,iBAAKgE,GAAL,GAAWF,IAAX,CAL2B,CAM3B;AACD;AAhJ6B;AAAA;AAAA,kCAiJtBG,GAjJsB,EAiJnB;AACT,gBAAG,KAAK5D,IAAL,IAAa,CAAhB,EAAkB;AAChBM,0BAAY,CAACoD,OAAb,CAAqB,oBAArB,EAA0CE,GAA1C;AACF,mBAAK9F,QAAL,CAAc6B,IAAd;AACC,aAHD,MAGK;AACHW,0BAAY,CAACoD,OAAb,CAAqB,kBAArB,EAAwCE,GAAxC;AACF,mBAAK9F,QAAL,CAAc6B,IAAd;AACC;AAEF;AA1J6B;AAAA;AAAA,0CA2Jd;AAAA;;AAEd,gBAAI2C,MAAM,GAAG;AAAEuB,iBAAG,EAAE,KAAKjF,KAAL,CAAWmD,OAAlB;AAA2B+B,iBAAG,EAAE,KAAKlF,KAAL,CAAWqD;AAA3C,aAAb,CAFc,CAGd;;AACI,gBAAI8B,aAAa,GAAG;AAClBC,mBAAK,EAAE1B,MAAM,CAACuB,GAAP,GAAa,GADF;AAElBI,mBAAK,EAAE3B,MAAM,CAACuB,GAAP,GAAa,GAFF;AAGlBK,kBAAI,EAAE5B,MAAM,CAACwB,GAAP,GAAa,GAHD;AAIlBK,kBAAI,EAAE7B,MAAM,CAACwB,GAAP,GAAa;AAJD,aAApB;AAOA,gBAAIpC,OAAO,GAAG;AACZ0C,oBAAM,EAAEL,aADI;AAEZM,mCAAqB,EAAE;AAAEC,uBAAO,EAAE;AAAX,eAFX;AAGZ;AACAC,0BAAY,EAAE,IAJF;AAKZC,mBAAK,EAAE,CAAC,eAAD;AALK,aAAd;AAOA,gBAAIC,KAAK,GAAGC,QAAQ,CAACC,cAAT,CAAwB,SAAxB,CAAZ;AACA,gBAAIxG,YAAY,GAAG,IAAIK,MAAM,CAACC,IAAP,CAAYC,MAAZ,CAAmBkG,YAAvB,CAAoCH,KAApC,EAA2C/C,OAA3C,CAAnB;AACAvD,wBAAY,CAAC0G,WAAb,CAAyB,eAAzB,EAA0C,YAAM;AAChD,kBAAIC,aAAa,GAAG3G,YAAY,CAAC4G,QAAb,EAApB;AACA,oBAAI,CAAC5G,YAAL,CAAkB2B,KAAlB,GAA0BgF,aAAa,CAACE,iBAAxC;AACA1E,0BAAY,CAACoD,OAAb,CAAqB,oBAArB,EAA0C,MAAI,CAACvF,YAAL,CAAkB2B,KAA5D;;AACA,oBAAI,CAAChC,QAAL,CAAc6B,IAAd;AACD,aALC,EApBU,CA2Bd;AACA;AACA;AACA;AAIA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAED;AAhN6B;AAAA;AAAA,+CAiNT;AAAA;;AAEnB,gBAAI2C,MAAM,GAAG;AAAEuB,iBAAG,EAAE,KAAKjF,KAAL,CAAWmD,OAAlB;AAA2B+B,iBAAG,EAAE,KAAKlF,KAAL,CAAWqD;AAA3C,aAAb,CAFmB,CAGnB;;AACI,gBAAI8B,aAAa,GAAG;AAClBC,mBAAK,EAAE1B,MAAM,CAACuB,GAAP,GAAa,GADF;AAElBI,mBAAK,EAAE3B,MAAM,CAACuB,GAAP,GAAa,GAFF;AAGlBK,kBAAI,EAAE5B,MAAM,CAACwB,GAAP,GAAa,GAHD;AAIlBK,kBAAI,EAAE7B,MAAM,CAACwB,GAAP,GAAa;AAJD,aAApB;AAOA,gBAAIpC,OAAO,GAAG;AACZ0C,oBAAM,EAAEL,aADI;AAEZM,mCAAqB,EAAE;AAAEC,uBAAO,EAAE;AAAX,eAFX;AAGZ;AACAC,0BAAY,EAAE,IAJF;AAKZC,mBAAK,EAAE,CAAC,eAAD;AALK,aAAd;AAOA,gBAAIC,KAAK,GAAGC,QAAQ,CAACC,cAAT,CAAwB,UAAxB,CAAZ;AACA,gBAAIxG,YAAY,GAAG,IAAIK,MAAM,CAACC,IAAP,CAAYC,MAAZ,CAAmBkG,YAAvB,CAAoCH,KAApC,EAA2C/C,OAA3C,CAAnB;AACAvD,wBAAY,CAAC0G,WAAb,CAAyB,eAAzB,EAA0C,YAAM;AAChD,kBAAII,WAAW,GAAG9G,YAAY,CAAC4G,QAAb,EAAlB;AACA,oBAAI,CAAC5G,YAAL,CAAkB4B,GAAlB,GAAwBkF,WAAW,CAACD,iBAApC;AACA1E,0BAAY,CAACoD,OAAb,CAAqB,kBAArB,EAAwC,MAAI,CAACvF,YAAL,CAAkB4B,GAA1D;;AACA,oBAAI,CAACjC,QAAL,CAAc6B,IAAd,GAJgD,CAK/C;;AAEA,aAPD,EApBe,CA6BnB;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAED;AAvQ6B;AAAA;AAAA,4CAwQf;AACb,gBAAG,KAAKK,IAAL,IAAa,CAAhB,EAAkB;AAChBM,0BAAY,CAACoD,OAAb,CAAqB,oBAArB,EAA0C,KAAKb,YAA/C;AACF,mBAAK/E,QAAL,CAAc6B,IAAd;AACC,aAHD,MAGK;AACHW,0BAAY,CAACoD,OAAb,CAAqB,kBAArB,EAAwC,KAAKb,YAA7C;AACF,mBAAK/E,QAAL,CAAc6B,IAAd;AACC;AACF;AAhR6B;;AAAA;AAAA,S;;;;gBAfvB;;gBACA;;gBACA;;gBACA;;gBACA;;gBAEA;;gBACA;;gBATyC;;gBAOzC;;gBANA;;gBAAQ;;;;AAgBJpC,yBAAmB,6DAL/B,gEAAU;AACT2H,gBAAQ,EAAE,wBADD;AAETC,gBAAQ,EAAR,gFAFS;;AAAA,OAAV,CAK+B,GAAnB5H,mBAAmB,CAAnB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACZb,UAAM6H,MAAM,GAAW,CACrB;AACEC,YAAI,EAAE,EADR;AAEEC,iBAAS,EAAE;AAFb,OADqB,CAAvB;;UAWaC,gCAAgC;AAAA;AAAA,O;;AAAhCA,sCAAgC,6DAJ5C,+DAAS;AACRlI,eAAO,EAAE,CAAC,6DAAamI,QAAb,CAAsBJ,MAAtB,CAAD,CADD;AAERK,eAAO,EAAE,CAAC,4DAAD;AAFD,OAAT,CAI4C,GAAhCF,gCAAgC,CAAhC","file":"on-the-way-address-on-the-way-address-module-es5.js","sourcesContent":["export default \"<ion-header>\\n\\n    <!-- <ion-searchbar [(ngModel)]=\\\"autocomplete.start\\\" *ngIf=\\\"type == 1\\\" placeholder=\\\"choose starting point\\\" [showCancelButton]=\\\"true\\\"   (ionInput)=\\\"updateSources()\\\" (ionCancel)=\\\"dismissSource()\\\"></ion-searchbar>\\n    <ion-list style=\\\"position: absolute;z-index: 999;\\\">\\n      <ion-item *ngFor=\\\"let item of sources\\\" tappable   (click)=\\\"chooseSource(item)\\\">\\n        {{ item }}\\n      </ion-item>\\n    </ion-list>\\n    <ion-searchbar [(ngModel)]=\\\"autocomplete.end\\\" *ngIf=\\\"type == 2\\\" placeholder=\\\"choose destination\\\" [showCancelButton]=\\\"true\\\"   (ionInput)=\\\"updateDestinations()\\\" (ionCancel)=\\\"dismissDestination()\\\"></ion-searchbar>\\n    <ion-list style=\\\"position: absolute;z-index: 999;\\\">\\n      <ion-item *ngFor=\\\"let item of destination\\\" tappable   (click)=\\\"chooseDestination(item)\\\">\\n        {{ item }}\\n      </ion-item>\\n    </ion-list> -->\\n    <div id=\\\"my_custom_on\\\">\\n      <input type=\\\"text\\\" id=\\\"my_test\\\" *ngIf=\\\"type == 1\\\" (keyup)=\\\"updateSources()\\\" placeholder=\\\"{{model.key_text2}}\\\"> <ion-icon *ngIf=\\\"autocomplete.start\\\" (click)=\\\"blank('start')\\\" class=\\\"cross_on_the\\\" name=\\\"close-outline\\\"></ion-icon>\\n      <input type=\\\"text\\\" id=\\\"my_test2\\\"  *ngIf=\\\"type == 2\\\" (keyup)=\\\"updateDestinations()\\\" placeholder=\\\"{{model.key_text3}}\\\"> <ion-icon *ngIf=\\\"autocomplete.end\\\" (click)=\\\"blank('end')\\\" class=\\\"cross_cross_2\\\" name=\\\"close-outline\\\"></ion-icon>\\n    </div>\\n<div style=\\\"display: flex;margin-top: 6px;\\\" class=\\\"custom_new_volunteer_btns ion-padding\\\" (click)=\\\"getYourLocation()\\\">\\n  <ion-icon name=\\\"navigate-outline\\\" class=\\\"navigation_icon_css\\\"></ion-icon> {{model.key_text1}}\\n</div>\\n</ion-header>\\n<ion-content>\\n  <div class=\\\"address_btn_div\\\">\\n    <ion-button shape=\\\"round\\\" class=\\\"custome_address_btn\\\" *ngFor=\\\"let add of saved_address;\\\" (click)=\\\"saveAdd(add.colony_name)\\\">{{add.adress_type}}</ion-button>\\n  </div>\\n</ion-content>\";","export default \"ion-header {\\n  padding-top: 32px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL29uLXRoZS13YXktYWRkcmVzcy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxpQkFBQTtBQUNKIiwiZmlsZSI6Im9uLXRoZS13YXktYWRkcmVzcy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24taGVhZGVye1xuICAgIHBhZGRpbmctdG9wOiAzMnB4O1xufSJdfQ== */\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { OnTheWayAddressPageRoutingModule } from './on-the-way-address-routing.module';\n\nimport { OnTheWayAddressPage } from './on-the-way-address.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    OnTheWayAddressPageRoutingModule\n  ],\n  declarations: [OnTheWayAddressPage]\n})\nexport class OnTheWayAddressPageModule {}\n","import { Component, OnInit, ViewChild ,ElementRef,NgZone } from '@angular/core';\nimport { Router, ActivatedRoute, ParamMap } from '@angular/router';\nimport { Geolocation,GeolocationOptions ,Geoposition ,PositionError } from '@ionic-native/geolocation/ngx';\nimport { NativeGeocoder, NativeGeocoderResult, NativeGeocoderOptions } from '@ionic-native/native-geocoder/ngx';\nimport { AlertController } from '@ionic/angular';\nimport { HttpClient } from '@angular/common/http';\nimport { FetchService } from '../fetch.service';\nimport { StorageService } from '../storage.service';\nimport { Platform } from '@ionic/angular';\nimport { Location } from \"@angular/common\";\ndeclare var google: any;\ndeclare var $: any;\n@Component({\n  selector: 'app-on-the-way-address',\n  templateUrl: './on-the-way-address.page.html',\n  styleUrls: ['./on-the-way-address.page.scss'],\n})\nexport class OnTheWayAddressPage implements OnInit {\n  type: any;\n  sources;\n  destination;\n  autocomplete:any={};\n  req_data : any = [];\n  latitude: number = 0;\n  longitude: number = 0;\n  geo: any;\n  service = new google.maps.places.AutocompleteService();\n  model:any={};\n  waypoints:any=[];\n  directionsService = new google.maps.DirectionsService();\n  directionsRenderer = new google.maps.DirectionsRenderer({\n    suppressMarkers: true\n  });\n  geoencoderOptions: NativeGeocoderOptions = {\n    useLocale: true,\n    maxResults: 5\n  };\n  markers = [];\n infowindow = new google.maps.InfoWindow();\n  options : GeolocationOptions;\n  saved_address: any;\n  curr_address: any;\n  constructor(\n    private geolocation: Geolocation,\n    private nativeGeocoder: NativeGeocoder,\n    public alertController: AlertController,\n    private http: HttpClient,\n    private fetch: FetchService,\n    private platform: Platform, \n    private location: Location,\n    private zone: NgZone,\n    private storage : StorageService,\n    public router : Router,\n    public route : ActivatedRoute\n  ) {\n    this.platform.backButton.subscribeWithPriority(10, () => {\n      this.location.back();\n     \n    });\n    this.sources = [];\n    this.destination = [];\n    this.autocomplete = {\n      start: '',\n      end : ''\n    };\n   }\n\n  ngOnInit() {\n  this.type = this.route.snapshot.params['id'];\n  }\n ionViewWillEnter(){\n\n  var lang_code = JSON.parse(localStorage.getItem('lang'));\n  this.model.user_id = JSON.parse(localStorage.getItem('user_id'));\n\tthis.fetch.get_user_locations(this.model.user_id).subscribe(res => {\n\t\tif(res['success'] == true){\n\t\t  this.saved_address = res['data'];\n\t\t  console.log(this.saved_address);\n\t\t  \n\t\t  //this.donate_address = res['data'][0];  \n\t\t}\n\t});\n  //this.fetch.getKeyText(lang_code).subscribe(res => {\n    let res = this.storage.getScope();\n    let item1 = res.find(i => i.key_text === 'YOUR_LOCATION');\n    this.model.key_text1 = item1[lang_code];\n    let item2 = res.find(i => i.key_text === 'CHOOSE_STARTING_POINT');\n    this.model.key_text2 = item2[lang_code]; \n    let item3 = res.find(i => i.key_text === 'CHOOSE_DESTINATION');\n    this.model.key_text3 = item3[lang_code]; \n\n  this.type = this.route.snapshot.params['id'];\n  var self = this;\n    self.options = {\n      enableHighAccuracy: false,\n      };\n      \n    self.geolocation.getCurrentPosition(self.options).then((resp) => {\n    \n      self.model.LastLat = resp.coords.latitude;\n      self.model.LastLng = resp.coords.longitude;\n      this.getGeoencoder(resp.coords.latitude, resp.coords.longitude);\n   \n      let latLng = new google.maps.LatLng(self.model.LastLat, self.model.LastLng);\n      let mapOptions = {\n        center: latLng,\n        zoom: 15,\n        mapTypeId: google.maps.MapTypeId.ROADMAP\n      }\n     \n      \n    });\n \n  }\n  //geocoder method to fetch address from coordinates passed as arguments\n  getGeoencoder(latitude, longitude) {\n    this.nativeGeocoder.reverseGeocode(latitude, longitude, this.geoencoderOptions)\n      .then((result: NativeGeocoderResult[]) => {\n        this.curr_address = this.generateAddress(result[0]);\n        console.log('your location',this.curr_address);\n      })\n      .catch((error: any) => {\n       // alert('Error getting location' + JSON.stringify(error));\n      });\n  }\n\n  //Return Comma saperated address\n  generateAddress(addressObj) {\n    let obj = [];\n    let address = \"\";\n    for (let key in addressObj) {\n      obj.push(addressObj[key]);\n    }\n    obj.reverse();\n    for (let val in obj) {\n      if (obj[val].length)\n        address += obj[val] + ', ';\n    }\n    return address.slice(0, -2);\n  }\n  dismissSource() {\n    this.sources = [];\n  }\n  dismissDestination() {\n    this.destination = [];\n  }\n  chooseSource(item: any) {\n    this.sources = [];\n    this.autocomplete.start = item;\n    localStorage.setItem('temp_start_address',this.autocomplete.start)\n    this.location.back();\n    this.geo = item;\n    //this.geoCode(this.geo,'start');//convert Address to lat and long\n  }\n  chooseDestination(item: any) {\n    this.destination = [];\n    this.autocomplete.end = item;\n    localStorage.setItem('temp_end_address',this.autocomplete.end)\n    this.location.back();\n    this.geo = item;\n    //this.geoCode(this.geo,'end');//convert Address to lat and long\n  }\n  saveAdd(add){\n    if(this.type == 1){\n      localStorage.setItem('temp_start_address',add)\n    this.location.back();\n    }else{\n      localStorage.setItem('temp_end_address',add)\n    this.location.back();\n    }\n    \n  }\n  updateSources() {\n    \n    var center = { lat: this.model.LastLat, lng: this.model.LastLng };\n    // Create a bounding box with sides ~10km away from the center point\n        var defaultBounds = {\n          north: center.lat + 0.2,\n          south: center.lat - 0.2,\n          east: center.lng + 0.2,\n          west: center.lng - 0.2,\n        };\n      \n        var options = {\n          bounds: defaultBounds,\n          componentRestrictions: { country: \"in\" },\n          //fields: [\"address_components\", \"geometry\",\"icon\", \"name\"],\n          strictBounds: true,\n          types: [\"establishment\"],\n        };\n        var input = document.getElementById(\"my_test\") as HTMLInputElement;\n        var autocomplete = new google.maps.places.Autocomplete(input, options);\n        autocomplete.addListener(\"place_changed\", () => {\n        var start_address = autocomplete.getPlace();\n        this.autocomplete.start = start_address.formatted_address;\n        localStorage.setItem('temp_start_address',this.autocomplete.start)\n        this.location.back();\n      })\n\n    // if ( this.autocomplete.start == '') {\n    //  this.sources = [];\n    // return;\n    // }\n\n    \n     \n    //   let me = this;\n    //     this.service.getPlacePredictions({\n          \n    //     input: this.autocomplete.start,\n    //     componentRestrictions: {\n    //       country: 'in'\n    //     }\n    //   }, (predictions, status) => {\n    //   me.sources = [];\n\n    //   me.zone.run(() => {\n    //     if (predictions != null) {\n    //         predictions.forEach((prediction) => {\n    //           me.sources.push(prediction.description);\n    //         });\n    //       }\n    //     });\n    //   });\n    \n  }\n  updateDestinations() {\n    \n    var center = { lat: this.model.LastLat, lng: this.model.LastLng };\n    // Create a bounding box with sides ~10km away from the center point\n        var defaultBounds = {\n          north: center.lat + 0.2,\n          south: center.lat - 0.2,\n          east: center.lng + 0.2,\n          west: center.lng - 0.2,\n        };\n      \n        var options = {\n          bounds: defaultBounds,\n          componentRestrictions: { country: \"in\" },\n          //fields: [\"address_components\", \"geometry\",\"icon\", \"name\"],\n          strictBounds: true,\n          types: [\"establishment\"],\n        };\n        var input = document.getElementById(\"my_test2\") as HTMLInputElement;\n        var autocomplete = new google.maps.places.Autocomplete(input, options);\n        autocomplete.addListener(\"place_changed\", () => {\n        var end_address = autocomplete.getPlace();\n        this.autocomplete.end = end_address.formatted_address;\n        localStorage.setItem('temp_end_address',this.autocomplete.end)\n        this.location.back();\n         //console.log(place);\n    \n        })\n\n    // if ( this.autocomplete.end == '') {\n    //  this.destination = [];\n    // return;\n    // }\n\n    \n     \n    //   let me = this;\n    //     this.service.getPlacePredictions({\n    //     input: this.autocomplete.end,\n    //     componentRestrictions: {\n    //       country: 'in'\n    //     }\n    //   }, (predictions, status) => {\n    //   me.destination = [];\n\n    //   me.zone.run(() => {\n    //     if (predictions != null) {\n    //         predictions.forEach((prediction) => {\n    //           me.destination.push(prediction.description);\n    //         });\n    //       }\n    //     });\n    //   });\n    \n  }\n  getYourLocation(){\n    if(this.type == 1){\n      localStorage.setItem('temp_start_address',this.curr_address);\n    this.location.back();\n    }else{\n      localStorage.setItem('temp_end_address',this.curr_address);\n    this.location.back();\n    }\n  }  \n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { OnTheWayAddressPage } from './on-the-way-address.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: OnTheWayAddressPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class OnTheWayAddressPageRoutingModule {}\n"]}