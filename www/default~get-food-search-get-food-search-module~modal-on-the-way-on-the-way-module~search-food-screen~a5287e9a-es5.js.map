{"version":3,"sources":["webpack:///src/app/modal/on-the-way/on-the-way.page.html","webpack:///src/app/modal/on-the-way/on-the-way.page.scss","webpack:///src/app/modal/on-the-way/on-the-way.page.ts"],"names":["OnTheWayPage","geolocation","nativeGeocoder","route","router","fetch","platform","location","modalController","zone","storage","autocomplete","latitude","longitude","service","google","maps","places","AutocompleteService","model","waypoints","directionsService","DirectionsService","directionsRenderer","DirectionsRenderer","suppressMarkers","markers","infowindow","InfoWindow","sources","destination","start","end","user_id","JSON","parse","localStorage","getItem","self","options","enableHighAccuracy","getCurrentPosition","then","resp","LastLat","coords","LastLng","latLng","LatLng","mapOptions","center","zoom","mapTypeId","MapTypeId","ROADMAP","map","Map","document","getElementById","setMap","lang_code","res","getScope","item1","find","i","key_text","key_text1","item2","key_text2","item3","key_text3","item","geo","geoCode","lat","lng","defaultBounds","north","south","east","west","bounds","componentRestrictions","country","strictBounds","types","input","Autocomplete","addListener","start_address","getPlace","formatted_address","console","log","end_address","address","path","geocoder","Geocoder","geocode","results","status","address_components","forEach","val","city","long_name","state","postalCode","startLat","geometry","startLng","showRoutes","endLat","endLng","setDirections","routes","length","origin","optimizeWaypoints","travelMode","TravelMode","DRIVING","response","startLocation","Object","endLocation","legs","start_location","time_c","duration","text","distance_c","distance","end_location","createMarker","window","alert","latlng","label","html","mobile_no","url","contentString","marker","Marker","position","icon","title","zIndex","Math","round","push","event","setContent","open","onClosedData","dismiss","data","$","selector","template"],"mappings":"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","file":"default~get-food-search-get-food-search-module~modal-on-the-way-on-the-way-module~search-food-screen~a5287e9a-es5.js","sourcesContent":["export default \"<ion-content class=\\\"current_location_page_show\\\">\\n  <!-- <div class=\\\"map current_location\\\">\\n\\t\\t<img src=\\\"assets/images/close_btn.svg\\\" style=\\\"float:right;margin-right:20px;\\\" (click)=\\\"closeModal()\\\">\\n\\t</div> -->\\n  <div id=\\\"my_custom_on\\\">\\n    <ion-buttons class=\\\"back_button_menu_bar\\\" slot=\\\"end\\\" (click)=\\\"closeModal()\\\">\\n      <ion-back-button defaultHref=\\\"home\\\"></ion-back-button>\\n    </ion-buttons>\\n    <input type=\\\"text\\\" id=\\\"my_test\\\" (keyup)=\\\"updateSources()\\\" placeholder=\\\"{{model.key_text2}}\\\"> <ion-icon *ngIf=\\\"autocomplete.start\\\" (click)=\\\"blank('start')\\\" class=\\\"cross_on_the\\\" name=\\\"close-outline\\\"></ion-icon>\\n    <input type=\\\"text\\\" id=\\\"my_test2\\\" (keyup)=\\\"updateDestinations()\\\" placeholder=\\\"{{model.key_text3}} \\\"> <ion-icon *ngIf=\\\"autocomplete.end\\\" (click)=\\\"blank('end')\\\" class=\\\"cross_cross_2\\\" name=\\\"close-outline\\\"></ion-icon>\\n  </div>\\n  \\n  <!-- <ion-searchbar [(ngModel)]=\\\"autocomplete.start\\\" placeholder=\\\"choose starting point\\\" [showCancelButton]=\\\"true\\\"   (ionInput)=\\\"updateSources()\\\" (ionCancel)=\\\"dismissSource()\\\"></ion-searchbar>\\n    <ion-list style=\\\"position: absolute;z-index: 999;\\\">\\n      <ion-item *ngFor=\\\"let item of sources\\\" tappable   (click)=\\\"chooseSource(item)\\\">\\n        {{ item }}\\n      </ion-item>\\n    </ion-list>\\n    <ion-searchbar style=\\\"margin-bottom:20px;\\\" [(ngModel)]=\\\"autocomplete.end\\\" placeholder=\\\"choose destination \\\" [showCancelButton]=\\\"true\\\"   (ionInput)=\\\"updateDestinations()\\\" (ionCancel)=\\\"dismissDestination()\\\"></ion-searchbar>\\n    <ion-list style=\\\"position: absolute;z-index: 999;\\\">\\n      <ion-item *ngFor=\\\"let item of destination\\\" tappable   (click)=\\\"chooseDestination(item)\\\">\\n        {{ item }}\\n      </ion-item>\\n    </ion-list> -->\\n\\t<!-- <div class=\\\"map current_location\\\">\\n\\t\\t<img src=\\\"assets/images/close_btn.svg\\\" class=\\\"close_btn\\\" (click)=\\\"closeModal()\\\">\\n\\t</div> -->\\n\\t<div #map id=\\\"map\\\"></div> \\n  <div class=\\\"\\\" style=\\\"margin-left:10px;\\\" *ngIf=\\\"time_c\\\">\\n    <p class=\\\"regular medium size_14 green\\\">{{time_c}} <span class=\\\"grey size_14\\\">({{distance_c}})</span></p>\\n  </div>\\n</ion-content>\\n<ion-footer class=\\\"current_location_page_show\\\" > \\n    <ion-toolbar>    \\n\\t\\t<div class=\\\"app_button\\\" *ngIf=\\\"model.startLat && model.startLng && model.endLat && model.endLng\\\">\\n\\t\\t\\t<span (click)=\\\"current_location()\\\">\\n\\t\\t\\t\\t<button class=\\\"app_btn\\\">{{model.key_text1}}</button>\\n\\t\\t\\t</span>\\n\\t\\t\\t<!--  <button class=\\\"app_btn\\\" (click)=\\\"confirm_location()\\\">Confirm Location</button> -->\\n\\t\\t</div>\\n    </ion-toolbar>\\n</ion-footer>\\n  \";","export default \"#map {\\n  width: 100%;\\n  height: 350px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL29uLXRoZS13YXkucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksV0FBQTtFQUNBLGFBQUE7QUFDSiIsImZpbGUiOiJvbi10aGUtd2F5LnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIiNtYXAge1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGhlaWdodDogMzUwcHg7XG59Il19 */\";","import { Component, OnInit, ViewChild ,ElementRef,NgZone } from '@angular/core';\nimport { Geolocation,GeolocationOptions ,Geoposition ,PositionError } from '@ionic-native/geolocation/ngx';\nimport { NativeGeocoder, NativeGeocoderResult, NativeGeocoderOptions } from '@ionic-native/native-geocoder/ngx';\nimport { FetchService } from '../../fetch.service';\nimport { StorageService } from '../../storage.service';\nimport { Router, ActivatedRoute, ParamMap } from '@angular/router';\nimport { Platform,ModalController } from '@ionic/angular';\nimport { Location } from \"@angular/common\";\ndeclare var google: any;\ndeclare var $: any;\n\n@Component({\n  selector: 'app-on-the-way',\n  templateUrl: './on-the-way.page.html',\n  styleUrls: ['./on-the-way.page.scss'],\n})\nexport class OnTheWayPage implements OnInit {\n  sources;\n  destination;\n  autocomplete:any={};\n\n  latitude: number = 0;\n  longitude: number = 0;\n  geo: any;\n  service = new google.maps.places.AutocompleteService();\n  model:any={};\n  waypoints:any=[];\n  directionsService = new google.maps.DirectionsService();\n  directionsRenderer = new google.maps.DirectionsRenderer({\n    suppressMarkers: true\n  });\n  markers = [];\n infowindow = new google.maps.InfoWindow();\n  options : GeolocationOptions;\n  @ViewChild('map') mapElement: ElementRef;\n  map: any;\n  time_c: any;\n  distance_c: any;\n  constructor(\n    private geolocation: Geolocation,\n    private nativeGeocoder: NativeGeocoder,\n    private route: ActivatedRoute,\n    private router: Router,\n    private fetch: FetchService,\n    private platform: Platform, \n    private location: Location,\n    public modalController : ModalController,\n    private zone: NgZone,\n    private storage: StorageService\n  ) { \n    this.sources = [];\n    this.destination = [];\n    this.autocomplete = {\n      start: '',\n      end : ''\n    };\n  }\n\n  ngOnInit() {\n    this.model.user_id = JSON.parse(localStorage.getItem('user_registerd'));\n  }\n\n  ionViewWillEnter(){\n    var self = this;\n    self.options = {\n      enableHighAccuracy: false,\n      };\n      \n    self.geolocation.getCurrentPosition(self.options).then((resp) => {\n    \n      self.model.LastLat = resp.coords.latitude;\n      self.model.LastLng = resp.coords.longitude;\n      //self.getCurrentCity(resp.coords.latitude,resp.coords.longitude);\n      \n      let latLng = new google.maps.LatLng(self.model.LastLat, self.model.LastLng);\n      let mapOptions = {\n        center: latLng,\n        zoom: 15,\n        mapTypeId: google.maps.MapTypeId.ROADMAP\n      }\n\n      self.map = new google.maps.Map(document.getElementById('map'), mapOptions);\n      self.directionsRenderer.setMap(self.map);\n     \n      \n    }); \n  }\n\n  ionViewDidEnter(){\n    var lang_code = JSON.parse(localStorage.getItem('lang'));\n    //this.fetch.getKeyText(lang_code).subscribe(res => {\n     let res = this.storage.getScope(); \n      let item1 = res.find(i => i.key_text === 'CONFIRM_LOCATION');\n\t\t\tthis.model.key_text1 = item1[lang_code]; \n      let item2 = res.find(i => i.key_text === 'CHOOSE_STARTING_POINT');\n\t\t\tthis.model.key_text2 = item2[lang_code]; \n      let item3 = res.find(i => i.key_text === 'CHOOSE_DESTINATION');\n\t\t\tthis.model.key_text3 = item3[lang_code]; \n\t\t   \n    //});\n  }\n\n  dismissSource() {\n    this.sources = [];\n  }\n  dismissDestination() {\n    this.destination = [];\n  }\n  chooseSource(item: any) {\n    this.sources = [];\n    this.autocomplete.start = item;\n    this.geo = item;\n    this.geoCode(this.geo,'start');//convert Address to lat and long\n  }\n  chooseDestination(item: any) {\n    this.destination = [];\n    this.autocomplete.end = item;\n    this.geo = item;\n    this.geoCode(this.geo,'end');//convert Address to lat and long\n  }\n\n  updateSources() {\n    //alert(this.model.LastLat);\n    //alert(this.model.LastLng);\n    \n     \n    //console.log('-',input);\n    // if ( this.autocomplete.start == '') {\n    //  this.sources = [];\n    // return;\n    // }\n\n    var center = { lat: this.model.LastLat, lng: this.model.LastLng };\n// Create a bounding box with sides ~10km away from the center point\n    var defaultBounds = {\n      north: center.lat + 0.3,\n      south: center.lat - 0.3,\n      east: center.lng + 0.3,\n      west: center.lng - 0.3,\n    };\n  \n    var options = {\n      bounds: defaultBounds,\n      componentRestrictions: { country: \"in\" },\n      //fields: [\"address_components\", \"geometry\",\"icon\", \"name\"],\n      strictBounds: true,\n      types: [\"establishment\"],\n    };\n    var input = document.getElementById(\"my_test\") as HTMLInputElement;\n    var autocomplete = new google.maps.places.Autocomplete(input, options);\n    autocomplete.addListener(\"place_changed\", () => {\n    var start_address = autocomplete.getPlace();\n    this.autocomplete.start = start_address.formatted_address\n    console.log(this.autocomplete.start)\n    this.geoCode(this.autocomplete.start,'start');\n     //console.log(place);\n\n    })\n    // var options = {\n    //   //language: 'en-GB',\n    //   types: ['(Ujjain)'],\n    //   componentRestrictions: { country: \"in\" }\n    // }\n\n    // var input = $('.address-search');\n    // var d = new google.maps.places.Autocomplete(input[0],options);\n    // console.log(input[0]);\n    // this.sources.push(d);\n      // let me = this;\n      //   this.service.getPlacePredictions({\n      //   input: this.autocomplete.start,\n      //   types: [this.model.currnet_city_name],\n      //   componentRestrictions: {\n      //     country: 'in'\n      //   }\n      // }, (predictions, status) => {\n      // me.sources = [];\n\n      // me.zone.run(() => {\n      //   if (predictions != null) {\n      //       predictions.forEach((prediction) => {\n      //         me.sources.push(prediction.description);\n      //       });\n      //     }\n      //   });\n      // });\n    \n  }\n  updateDestinations() {\n    \n    var center = { lat: this.model.LastLat, lng: this.model.LastLng };\n    // Create a bounding box with sides ~10km away from the center point\n        var defaultBounds = {\n          north: center.lat + 0.3,\n          south: center.lat - 0.3,\n          east: center.lng + 0.3,\n          west: center.lng - 0.3,\n        };\n      \n        var options = {\n          bounds: defaultBounds,\n          componentRestrictions: { country: \"in\" },\n          //fields: [\"address_components\", \"geometry\",\"icon\", \"name\"],\n          strictBounds: true,\n          types: [\"establishment\"],\n        };\n        var input = document.getElementById(\"my_test2\") as HTMLInputElement;\n        var autocomplete = new google.maps.places.Autocomplete(input, options);\n        autocomplete.addListener(\"place_changed\", () => {\n        var end_address = autocomplete.getPlace();\n        this.autocomplete.end = end_address.formatted_address;\n        this.geoCode(this.autocomplete.end,'end');\n         //console.log(place);\n    \n        })\n\n\n    // if ( this.autocomplete.end == '') {\n    //  this.destination = [];\n    // return;\n    // }\n\n    \n     \n    //   let me = this;\n    //     this.service.getPlacePredictions({\n    //     input: this.autocomplete.end,\n    //     componentRestrictions: {\n    //       country: 'in'\n    //     }\n    //   }, (predictions, status) => {\n    //   me.destination = [];\n\n    //   me.zone.run(() => {\n    //     if (predictions != null) {\n    //         predictions.forEach((prediction) => {\n    //           me.destination.push(prediction.description);\n    //         });\n    //       }\n    //     });\n    //   });\n    \n  }\n\n  //convert Address string to lat and long\n  geoCode(address:any,path) {\n    console.log(address);\n    let geocoder = new google.maps.Geocoder();\n    \n    geocoder.geocode({ 'address': address }, (results, status) => {\n     var address_components = results[0].address_components;\n     var self = this;\n      address_components.forEach(function(val,i){\n        \n        if (val.types[0] == \"locality\"){\n            \n            self.model.city = val.long_name;\n        }\n        if (val.types[0] == \"administrative_area_level_1\"){\n\t\t\t\t\n          self.model.state = val.long_name;\n        } \n        if (val.types[0] == \"country\"){\n          \n          self.model.country = val.long_name;\n        }\n        if (val.types[0] == \"postal_code\"){\n          \n          self.model.postalCode = val.long_name;\n        }  \n\n      });\n      if(path == 'start'){\n        this.model.startLat = results[0].geometry.location.lat();\n        this.model.startLng = results[0].geometry.location.lng();\n        console.log(this.model.startLat);\n        console.log(this.model.startLng);\n        this.showRoutes();\n      }\n      if(path ==  'end'){\n        this.model.endLat = results[0].geometry.location.lat();\n        this.model.endLng = results[0].geometry.location.lng();\n        console.log(this.model.endLat);\n        console.log(this.model.endLng);\n        this.showRoutes();\n      }\n    // alert(\"lat: \" + this.latitude + \", long: \" + this.longitude);\n   });\n   \n }\n\n showRoutes(){\n  \n  if(this.autocomplete.start != '' && this.autocomplete.end != ''){\n   \n   \n      \n      this.directionsRenderer.setMap(null);\n      this.directionsRenderer.setDirections({routes: []});\n      for (var i = 0; i < this.markers.length; i++ ) {\n        this.markers[i].setMap(null);\n      }\n      \n      this.directionsService.route(\n        {\n          origin: this.autocomplete.start ,\n          destination: this.autocomplete.end,\n          waypoints: [],\n          optimizeWaypoints: true,\n          travelMode: google.maps.TravelMode.DRIVING,\n        },\n        (response, status) => {\n          if (status === \"OK\") {\n           \n            this.directionsRenderer.setDirections(response);\n            this.directionsRenderer.setMap(this.map);\n            var startLocation = new Object();\n            var endLocation = new Object();\n            // var waypointLocations = [];\n            var legs = response.routes[0].legs;\n            console.log(legs);\n            for (var i = 0; i < legs.length; i++) {\n              if (i == 0) {\n                startLocation = legs[i].start_location;\n                this.time_c = legs[i].duration.text;\n                this.distance_c = legs[i].distance.text;\n               \n              }\n              // if (i != 0 && i != legs.length - 1) { \n              //   var waypoint = {latlng : '', address : ''};\n              //   waypoint.latlng = legs[i].start_location;\n              //   waypoint.address = legs[i].start_address;\n              //   waypointLocations.push(waypoint);\n              // }\n              if (i == legs.length - 1) {\n                endLocation = legs[i].end_location;\n                \n              }\n              \n            }\n            //console.log(waypointLocations);\n            \n            this.createMarker(endLocation, \"end\", \"special text for end marker\", 0,\"http://www.google.com/mapfiles/markerB.png\")\n           this.createMarker(startLocation, \"start\", \"special text for start marker\",0, \"http://maps.gstatic.com/mapfiles/markers2/marker_greenA.png\");\n            \n          \n          } else {\n            window.alert(\"Directions request failed due to \" + status);\n          }\n        }\n      );\n  \n  \n   \n        \n  }  \n}\ncreateMarker(latlng, label, html, mobile_no, url) {\n  if(mobile_no != 0){\n    var contentString = '<b>' + label + '</b><br>' + html;\n  }else{\n    var contentString = '<b>' + label + '</b><br>' + html;\n  }\n  \n  var marker = new google.maps.Marker({\n    position: latlng,\n    map: this.map,\n    icon: {url : url },\n    title: label,\n    zIndex: Math.round(latlng.lat() * -100000) << 5\n  });\n  this.markers.push(marker);\n  google.maps.event.addListener(marker, 'click', ()=> {\n    this.infowindow.setContent(contentString);\n    this.infowindow.open(this.map, marker);\n  });\n\n  \n}\nasync closeModal() {\n  const onClosedData = [];\n  await this.modalController.dismiss(onClosedData);\n}\ncurrent_location(){\n\t//alert(JSON.stringify(this.model.data));\n  let data = [];\n  if(this.autocomplete.start && this.autocomplete.end){\n     data.push(this.model);\n     data.push(this.autocomplete);\n  }\n    this.modalController.dismiss(data);\n  }\n  blank(val){\n    if(val == 'start'){\n      this.autocomplete.start = '';\n      $(\"#my_test\").val('');\n    }else{\n      this.autocomplete.end = '';\n      $(\"#my_test2\").val('');\n    }\n  }\n  // getCurrentCity(lat, lon){\n  //   var self = this;\n  //   let latLng = new google.maps.LatLng(lat, lon);\n  //   let geocoder = new google.maps.Geocoder();\n  //   geocoder.geocode({ 'latLng': latLng }, (results, status) => {\n      \n  //     this.model.colony_name = results[0].formatted_address;\n  //     results[0].address_components.forEach(function(val,i){\n        \n  //       if (val.types[0] == \"locality\"){\n          \n  //         self.model.currnet_city_name = val.long_name;\n  //       }\n    \n  //       });\n  //   });\n  // }\n}\n"]}